(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"101":function(e,t,n){},"72":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return g});var a=n(1),o=n.n(a),r=n(0),i=n.n(r),s=n(23),c=n(111),l=n(112),u=n(109),p=n(113),f=n(110),h=(n(101),n(99)),m=n.n(h),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var g=function(e){function Index(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).call(this,e));return t.config={"navigationBarTitleText":"我的"},t.onShareAppMessage=function(){o.a.showShareMenu({"withShareTicket":!0})},t.shareAppMessage=function(){console.log("分享")},t.tobeginLogin=function(e){var n=e.detail.userInfo;n?(o.a.setStorageSync("userinfo",n),t.setState({"isOpened":!1,"imagehead":n.avatarUrl,"userName":n.nickName})):console.log("取消授权了")},t.handleClose=function(){console.log("关闭了",t.props)},t.state={"isH5":!0,"isOpened":!1,"imagehead":m.a,"userName":""},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,a["Component"]),d(Index,[{"key":"componentWillMount","value":function componentWillMount(){var e=this;this.state.isH5?console.log("h5登录事件"):o.a.getSetting().then(function(t){if(t.authSetting["scope.userInfo"]){var n=o.a.getStorageSync("userinfo");return e.setState({"isOpened":!1,"imagehead":n.avatarUrl,"userName":n.nickName}),!0}throw e.setState({"isOpened":!0}),new Error("没有授权")}).catch(function(e){console.log(e)})}},{"key":"render","value":function render(){return i.a.createElement(s.a,{"className":"userMian"},i.a.createElement(c.a,{"isOpened":this.state.isOpened,"title":"提示","onClose":this.handleClose},i.a.createElement(s.a,{"className":"layTips"},"为了获取更好的体验,请您先登录!"),i.a.createElement(l.a,{"type":"secondary","openType":"getUserInfo","onGetUserInfo":this.tobeginLogin}," 登录 ")),i.a.createElement(s.a,{"className":"at-row userCentent"},i.a.createElement(s.a,{"className":"at-col at-col-3 headloginPic"},i.a.createElement(u.a,{"circle":!0,"image":this.state.imagehead})),i.a.createElement(s.a,{"className":"at-col at-col-6 headloginBtn"},this.state.isH5?i.a.createElement("text",null," Hello "):this.state.isOpened?i.a.createElement(l.a,{"type":"secondary","size":"small","openType":"getUserInfo","onGetUserInfo":this.tobeginLogin}," 登 录 "):i.a.createElement("text",null,this.state.userName))),i.a.createElement(s.a,null,i.a.createElement(p.a,{"className":"AtList"},i.a.createElement(f.a,{"title":"分享小程序","arrow":"right","open-type":"share","onClick":this.shareAppMessage}),i.a.createElement(f.a,{"title":"关于我","arrow":"right"})),i.a.createElement(p.a,null,i.a.createElement(f.a,{"title":"想看的电影","arrow":"right"}),i.a.createElement(f.a,{"title":"看过的电影","arrow":"right"}))))}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Index}()},"99":function(e,t,n){e.exports=n.p+"static/images/userhead.png"}}]);